language: node_js
node_js:
  - 10

dist: trusty

services:
  - mysql

addons:
  chrome: stable
  sonarcloud:
    organization: "theconvenant"
    token:
      secure: $SONAR_TOKEN

before_install:
  - mysql -u root < database_files/database_create.sql

script:
- "cd ./code"
- "npm install"
- "npm test"
- sonar-scanner
